<link rel="import" href="/polymer/polymer.html">
<link rel="import" href="/elements/deal-service.html">
<link rel="import" href="/elements/deal-card.html">

<polymer-element name="food-deal-list" attributes="day">
  <template>
    <style>
    :host {
    }
    deal-card {
      text-align: left;
    }
    container {
      margin: 0px;
    }
    </style>

    <deal-service id="service" deals="{{deals}}"></deal-service>

    <div id="container" layout vertical>
      <template repeat="{{d in deals}}">
        <template if="{{d.day == day}}">
          <deal-card>
            <span>{{d.day}} - {{d.place}} : {{d.text}}</span>
          </deal-card>
        </template>
      </template>
    </div>
  </template>

  <script>
  Polymer('food-deal-list', {
    created: function() {
      var weekday = ['sunday','monday','tuesday','wednesday','thursday','friday','saturday'];
      this.day = weekday[new Date().getDay()];
      console.log(this.day);
    }
  });
  </script>
</polymer-element>
