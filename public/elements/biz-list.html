<link rel="import" href="/polymer/polymer.html">
<link rel="import" href="/core-icon/core-icon.html">
<link rel="import" href="/core-icons/maps-icons.html">
<link rel="import" href="/core-icons/editor-icons.html">
<link rel="import" href="/paper-checkbox/paper-checkbox.html">
<!-- our custom element imports -->
<link rel="import" href="/elements/deal-card.html">

<polymer-element name="biz-list" attributes="bizs">
  <template>
    <style>
    :host {
      display: block;
      margin: 0 auto;
      color: rgb(236, 236, 236);
    }
    #bname {
      font-weight: 300;
      padding: 5px 0;
      color: rgb(34, 49, 63);
      text-align: center;
      border-bottom: 1px solid rgb(190, 144, 212);
      background-color: rgb(236, 236, 236);
      font-size: 24px;
    }
    #biz-card {
      background-color: rgb(155, 89, 182);
      width: 90%;
      border: 1px solid rgb(190, 144, 212);
      margin: 25px;
      padding-bottom: 15px;
    }
    #biz-body {
      padding: 15px;
    }
    #filters {
      background-color: rgb(236, 236, 236);
      box-shadow: 0px 3px 3px rgba(34, 49, 63, .5);
    }
    </style>

    <div layout horizontal wrap style="width: 100%">
      <template repeat="{{b in bizs}}">
        <div id="biz-card">
          <div id="bname">
            <span>{{b.name}}</span>
          </div>
          <div id="biz-body">
            <div>
              <div id="address">
                <b>Address: </b><span>{{b.address}}</span>
              </div>
              <div id="phone">
                <b>Phone: </b><span>{{b.phone}}</span>
              </div>
              <template if="{{b.url}}">
                <div id="url">
                  <b>Website: </b><span>{{b.url}}</span>
                </div>
              </template>
            </div>
            <div>
              <template if="{{b.hours}}">
                <div><b>Hours: </b></div>
                <template repeat="{{h in b.hours}}">
                  <deal-card>
                    <span>{{h.day}} - {{h.hours}}</span>
                  </deal-card>
                </template>
              </template>
            </div>
            <div>
              <template if="{{b.events}}">
                <div><b>Events: </b></div>
                <template repeat="{{e in b.events}}">
                  <deal-card>
                    <span>{{e.day}} - {{e.text}}</span>
                  </deal-card>
                </template>
              </template>
            </div>
            <div>
              <template if="{{b.deals}}">
                <div><b>Deals: </b></div>
                <template repeat="{{d in b.deals}}">
                  <deal-card>
                    <template if="{{d.drink}}">
                      <core-icon icon="maps:local-bar"></core-icon>
                    </template>
                    <template if="{{d.eat}}">
                      <core-icon icon="maps:local-pizza"></core-icon>
                    </template>
                    <span>{{d.text}}</span>
                  </deal-card>
                </template>
              </template>
            </div>
          </div>
        </div>
      </template>
    </div>
  </template>

  <script>
  Polymer('biz-list', { });
  </script>
</polymer-element>
